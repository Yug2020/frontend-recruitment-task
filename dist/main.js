console.log("It`s work"),window.onload=init;const RENDER_ROOT_POPUP=".popup",RENDER_COUNT_POPUP=".v-count",RENDER_BTN_RESET_POPUP=".alert__btn-reset";function count(o){let e=0,t=o;return function(){return{inc:()=>++e,value:()=>e,reset:()=>e=0,set:o=>e=o,name:()=>t}}}const popup={init:({rootClassName:o,countClassName:e})=>{console.log(o),popup.elemRoot=document.querySelector(o),popup.elemCount=document.querySelector(e),popup.elemBtnReset=document.querySelector(RENDER_BTN_RESET_POPUP)},property:({value:o,reset:e})=>(popup._reset=e,console.log(o()),console.log(popup),popup),open:()=>{console.log("show"),console.log(popup.elemRoot),popup.elemRoot.dataset.visible=!0},close:o=>{console.log(o),(o.target.classList.contains("popup")||o.target.classList.contains("alert__btn-close"))&&(popup.elemRoot.dataset.visible=!1),console.log(o)},setCount:o=>{popup.elemCount.innerText=o},showResetBtn:()=>{console.log("BTN show"),console.log(popup.elemRoot),popup.elemBtnReset.dataset.visible=!0},hideResetBtn:()=>{console.log("BTN show"),console.log(popup.elemRoot),popup.elemBtnReset.dataset.visible=!1},resetCount:()=>{popup._reset(),popup.setCount(0),popup.hideResetBtn()}},state={popup:!1,counts:[]};function init(){popup.init({rootClassName:RENDER_ROOT_POPUP,countClassName:RENDER_COUNT_POPUP}),window.counts=[],counts.push(count("id1")),counts.push(count("id2")),counts.push(count("id3"))}const onClick=e=>{console.log("click valueId=",e);const o=window.counts.find(o=>{if(console.log(o()),console.log(o().name()),o().name()===e)return console.log("if::",o()),o});var t=o().inc();console.log("model",t);const n=popup.property(o());console.log(n.open()),console.log(n.setCount(t)),5<t&&n.showResetBtn()};